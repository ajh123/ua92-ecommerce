<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Get It Co | <%= product.name %></title>
        <!-- Use the static tag to reference the store's style.css from the backend -->
        <link rel="stylesheet" href="/assets/style.css">
        <script type="application/javascript" src="/assets/cart.js"></script>
    </head>
    <body>
        <header>
            <nav aria-label="Main navigation">
                <a href="/">Home</a>
                <a href="/products">Products</a>
                <!-- Check if the user is logged in, this condition will be parsed by the backend (Django) and the result will be given to the client. -->
                <% if ( user.is_authenticated ) { %>
                    <div style="float: right;">
                        <!-- Check if the user has a first name -->
                        <% if ( user.first_name ) { %>
                            <!-- If true render their name -->
                            Logged in as: <%= user.first_name %> <%= user.last_name %>
                        <% } else { %>
                            <!-- Otherwise just render their user name -->
                            Logged in as: <%= user.username %>
                        <% } %>
                        <a href="/logout">Logout</a>
                        <a href="/profile">Profile</a>
                    </div>
                <% } else { %>
                    <!-- If the user is not logged in, give them the login button -->
                    <div style="float: right;">
                        <a href="/login">Login</a>
                    </div>              
                <% } %>
            </nav>
        </header>
        <main>
            <div>
                <h1 style="width: 30%;"><%= product.name %></h1> <!-- Retreive the name of the product -->
                <form style="float:right; margin-top: -50px;">
                    <label for="search">Search:</label>
                    <input id="search"/>
                    <button type="submit">Submit</button>
                </form>
            </div>
            <hr/>
            <table>
                <tr>
                    <td><img src="<%= product.image %>" width="200" height="200"></td> <!-- Create an image by using the product's image -->
                    <td>
                        <ul>
                        <li>Name: <%= product.name %></li> <!-- Retreive the name of the product -->
                        <li>Price: $<%= product.price %></li> <!-- Retreive the price of the product -->
                        <li>Description: <%= product.description %></li> <!-- Retreive the description of the product -->
                        </ul>
                    </td>
                </tr>
            </table>

            <form>
                <label for="quanity">Quanity</label>
                <input id="quanity" type="number" value="1" min="1"/>
                <button onclick="subbmitItem('<%=product_id%>')">Add to cart</button>
            </form>
            <hr/>
            <a href="/products/">All products</a>
        </main>
    </body>
</html>